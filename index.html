<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Frag Arena — UI mock</title>
  <style>
    :root {
      --bg: #0b0b0b;
      --red-900: #8b0000;
      --red-700: #c72b2b;
      --accent-green: #00ff66;
      --muted: #8e8e8e;
      --card: #0f0f10;
      --pill: #2f2f30;
      --blue: #1677ff;
      --ton: #12b0ff;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    html, body {
      height: 100%;
      margin: 0;
      background: var(--bg);
      color: #fff;
      overflow: hidden;
      touch-action: manipulation;
    }
    .device {
      max-width: 420px;
      margin: 0 auto;
      border-left: 1px solid #111;
      border-right: 1px solid #111;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* Header */
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px 16px;
      background: linear-gradient(180deg, #060606 0%, rgba(0,0,0,0.2) 100%);
    }
    .left-row {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .icon {
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
    }
    .profile {
      border: 2px solid #333;
      padding: 4px;
      cursor: pointer;
    }
    .bell {
      position: relative;
      padding: 6px;
      cursor: pointer;
    }
    .badge {
      position: absolute;
      top: -4px;
      right: -6px;
      background: #ff2b2b;
      color: #fff;
      border-radius: 50%;
      min-width: 18px;
      height: 18px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 700;
    }
    .deposit {
      background: var(--accent-green);
      color: #000;
      padding: 8px 14px;
      border-radius: 22px;
      font-weight: 700;
    }

    /* Top red hero */
    .hero {
      background: linear-gradient(180deg, var(--red-900), var(--red-700));
      padding: 18px 16px;
      border-bottom-left-radius: 22px;
      border-bottom-right-radius: 22px;
    }
    .logo-carousel {
      display: flex;
      gap: 16px;
      align-items: center;
      overflow: hidden;
      padding: 6px 0;
      margin-bottom: 6px;
    }
    .logo-track {
      display: flex;
      gap: 18px;
      animation: scroll 18s linear infinite;
    }
    .logo img {
      width: 48px;
      height: auto;
      border-radius: 6px;
    }
    @keyframes scroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    .title {
      font-size: 36px;
      font-weight: 800;
      text-align: center;
      margin: 6px 0;
    }
    .search-wrap {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
      margin-top: 8px;
    }
    .search {
      width: 92%;
      max-width: 360px;
      background: rgba(0,0,0,0.6);
      padding: 12px 16px;
      border-radius: 24px;
      border: 3px solid #222;
      color: #fff;
      font-weight: 600;
    }
    .create {
      background: var(--blue);
      padding: 10px 18px;
      border-radius: 28px;
      color: #fff;
      font-weight: 700;
      border: none;
      cursor: pointer;
    }

    /* List - ИСПРАВЛЕНО */
    .list-header {
      display: grid;
      grid-template-columns: 75px 60px 75px 70px 100px;
      padding: 10px 14px;
      color: var(--muted);
      font-weight: 700;
      align-items: center;
      gap: 3px;
    }
    .list {
      flex: 1;
      overflow: auto;
      padding: 10px 10px;
    }
    .card {
      background: var(--card);
      border-radius: 26px;
      padding: 10px;
      display: grid;
      grid-template-columns: 75px 60px 75px 70px 100px;
      align-items: center;
      gap: 3px;
      margin-bottom: 12px;
      border: 6px solid #2a2a2a;
    }
    .player-avatar {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      object-fit: cover;
    }
    .player-meta {
      display: flex;
      flex-direction: column;
      gap: 3px;
      align-items: center;
    }
    .crypto {
      display: flex;
      align-items: center;
      gap: 3px;
      padding: 3px 5px;
      background: #0a1a22;
      border-radius: 10px;
      font-weight: 700;
      justify-content: center;
      font-size: 12px;
    }
    .map {
      font-weight: 800;
      text-align: center;
      font-size: 12px;
      word-break: break-word;
    }
    .weapon {
      font-weight: 700;
      text-align: center;
      font-size: 12px;
      word-break: break-word;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .accept-wrap {
      display: flex;
      justify-content: flex-start;
      align-items: center;
    }
    .accept {
      background: var(--accent-green);
      color: #000;
      padding: 8px 16px;
      border-radius: 18px;
      font-weight: 700;
      border: none;
      cursor: pointer;
      font-size: 11px;
      white-space: nowrap;
    }

    /* Bottom nav */
nav {
  display: flex;
  justify-content: space-around;
  padding: 10px 8px;
  background: linear-gradient(180deg, #080808, #000);
  align-items: center;
  position: sticky;
  bottom: 0;
  z-index: 100;
}

.nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  color: var(--muted);
  cursor: pointer;
  transition: color 0.3s;
}

.nav-item img {
  filter: grayscale(0%);
  transition: filter 0.3s;
}

.nav-item.active img {
  filter: grayscale(0%); /* Активная иконка остается цветной */
}

.nav-item.inactive img {
  filter: grayscale(100%); /* Неактивные иконки становятся серыми */
}

.nav-item span {
  font-size: 12px;
  font-weight: 500;
}

.nav-item.active {
  color: var(--accent-green); /* Активная вкладка выделяется зеленым */
}

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 1000;
    }
    .modal-content {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: var(--card);
      padding: 20px;
      border-radius: 20px;
      width: 90%;
      max-width: 400px;
      border: 6px solid #2a2a2a;
      position: relative;
      max-height: 80vh;
      overflow-y: auto;
    }
    .modal-close {
      position: absolute;
      top: 10px;
      right: 10px;
      width: 30px;
      height: 30px;
      background: none;
      border: none;
      cursor: pointer;
      font-size: 24px;
      font-weight: bold;
      color: #fff;
      line-height: 30px;
      text-align: center;
      padding: 2px;
    }
    .modal-close:hover {
      color: var(--accent-green);
    }
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 40px;
      margin-bottom: 20px;
    }
    .modal-row {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
    }
    .modal-label {
      font-weight: 600;
      min-width: 80px;
    }
    .custom-select {
      position: relative;
      width: 200px;
      background: rgba(0, 0, 0, 0.6);
      border: 3px solid #222;
      border-radius: 10px;
      padding: 5px 10px;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
    }
    .custom-select .selected {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .custom-select .options {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: var(--card);
      border: 3px solid #222;
      border-radius: 10px;
      max-height: 200px;
      overflow-y: auto;
      z-index: 10;
    }
    .custom-select .options div {
      padding: 5px 10px;
      cursor: pointer;
    }
    .custom-select .options div:hover {
      background: #333;
    }
    .custom-select.open .options {
      display: block;
    }
    .modal-amount {
      background: rgba(0, 0, 0, 0.6);
      border: 3px solid #222;
      border-radius: 10px;
      padding: 5px 10px;
      color: #fff;
      font-weight: 600;
      text-align: center;
      width: 160px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .modal-amount img {
      width: 14px;
      height: 14px;
      border-radius: 50%;
    }
    .keyboard {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin: 15px 0;
    }
    .key {
      background: var(--pill);
      border: none;
      border-radius: 10px;
      padding: 10px;
      color: #fff;
      font-weight: 700;
      cursor: pointer;
    }
    .key.delete {
      background: #ff2b2b;
    }
    .create-btn {
      background: var(--blue);
      padding: 10px 20px;
      border-radius: 28px;
      color: #fff;
      font-weight: 700;
      border: none;
      cursor: pointer;
      width: 100%;
      text-align: center;
    }

    /* Profile Modal Styles */
    .profile-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 1002;
    }
    .profile-content {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: var(--card);
      padding: 20px;
      border-radius: 20px;
      width: 90%;
      max-width: 420px;
      border: 6px solid #2a2a2a;
      max-height: 85vh;
      overflow-y: auto;
    }
    .profile-header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-top: 30px;
      margin-bottom: 20px;
      padding: 15px;
      background: #1a1a1b;
      border-radius: 15px;
    }
    .profile-avatar {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #333;
    }
    .profile-info {
      flex: 1;
    }
    .profile-name {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 8px;
    }
    .copy-code-btn {
      background: var(--blue);
      color: #fff;
      padding: 8px 16px;
      border: none;
      border-radius: 15px;
      font-weight: 600;
      cursor: pointer;
      font-size: 12px;
    }
    .chart-container {
      background: #1a1a1b;
      border-radius: 15px;
      padding: 15px;
      margin-bottom: 20px;
      position: relative;
      height: 200px;
    }
    .chart {
      width: 100%;
      height: 150px;
      position: relative;
      overflow: hidden;
      cursor: crosshair;
    }
    .chart-line {
      position: absolute;
      stroke: var(--accent-green);
      stroke-width: 3;
      fill: none;
      stroke-linecap: round;
      stroke-linejoin: round;
    }
    .chart-point {
      fill: var(--accent-green);
      stroke: #fff;
      stroke-width: 2;
      r: 5;
      cursor: pointer;
      transition: r 0.2s;
    }
    .chart-point:hover {
      r: 7;
      fill: #fff;
    }
    .chart-cursor {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 2px;
      background: rgba(255, 255, 255, 0.8);
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.2s;
    }
    .chart-tooltip {
      position: absolute;
      background: rgba(0, 0, 0, 0.9);
      color: #fff;
      padding: 8px 12px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 600;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.2s;
      z-index: 10;
      border: 1px solid #333;
    }
    .stats-list {
      max-height: 300px;
      overflow-y: auto;
    }
    .stats-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 15px;
      background: #1a1a1b;
      border-radius: 12px;
      margin-bottom: 8px;
    }
    .stats-item.win {
      border-left: 4px solid var(--accent-green);
    }
    .stats-item.loss {
      border-left: 4px solid #ff2b2b;
    }
    .stats-left {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    .stats-result {
      font-weight: 700;
      font-size: 14px;
    }
    .stats-result.win {
      color: var(--accent-green);
    }
    .stats-result.loss {
      color: #ff2b2b;
    }
    .stats-details {
      font-size: 12px;
      color: var(--muted);
    }
    .stats-amount {
      font-weight: 700;
      font-size: 16px;
    }
    .stats-amount.win {
      color: var(--accent-green);
    }
    .stats-amount.loss {
      color: #ff2b2b;
    }

    /* Notification Modal Styles */
    .notification-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 1001;
    }
    .notification-content {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: var(--card);
      padding: 20px;
      border-radius: 20px;
      width: 90%;
      max-width: 400px;
      border: 6px solid #2a2a2a;
      max-height: 80vh;
      overflow-y: auto;
    }
    .notification-item {
      display: grid;
      grid-template-columns: 50px 1fr 100px;
      align-items: center;
      gap: 10px;
      margin-bottom: 15px;
      padding: 10px;
      background: #1a1a1b;
      border-radius: 10px;
    }
    .notification-item.match {
      grid-template-columns: 50px 60px 60px 60px 60px 100px;
      align-items: center;
    }
    .notification-item .avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
    }
    .notification-item .player-meta {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 3px;
    }
    .notification-item .player-meta .name {
      font-size: 14px;
      color: var(--muted);
    }
    .notification-item .info {
      display: flex;
      gap: 5px;
      align-items: center;
    }
    .notification-item .crypto {
      display: flex;
      align-items: center;
      gap: 3px;
      padding: 3px 5px;
      background: #0a1a22;
      border-radius: 10px;
      font-weight: 700;
      font-size: 12px;
    }
    .notification-item .map {
      font-weight: 800;
      text-align: center;
      font-size: 12px;
      word-break: break-word;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .notification-item .weapon {
      font-weight: 700;
      text-align: center;
      font-size: 12px;
      word-break: break-word;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .notification-item .message {
      font-size: 14px;
      color: #fff;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      max-width: 200px;
      cursor: pointer;
    }
    .notification-item .full-message {
      display: none;
      margin-top: 10px;
      font-size: 14px;
      color: #fff;
      max-height: 200px;
      overflow-y: auto;
      padding: 10px;
      background: #222;
      border-radius: 10px;
    }
    .notification-item .accept {
      background: var(--accent-green);
      color: #000;
      padding: 6px 12px;
      border-radius: 15px;
      font-weight: 700;
      border: none;
      cursor: pointer;
      font-size: 10px;
      white-space: nowrap;
    }
    .back-arrow {
      position: absolute;
      top: 10px;
      left: 10px;
      width: 30px;
      height: 30px;
      background: none;
      border: none;
      cursor: pointer;
      font-size: 20px;
      color: #fff;
      line-height: 30px;
      text-align: center;
      margin-bottom: 20px;
    }
    .back-arrow:hover {
      color: var(--accent-green);
    }

    @media (max-width: 420px) {
      .title { font-size: 32px; }
    }

    /* Accept Confirmation Modal Styles */
.accept-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.7);
  z-index: 1003;
}
.accept-content {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--card);
  padding: 20px;
  border-radius: 20px;
  width: 90%;
  max-width: 400px;
  border: 6px solid #2a2a2a;
  max-height: 80vh;
  overflow-y: auto;
}
.accept-header {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-top: 30px;
  margin-bottom: 20px;
  padding: 15px;
  background: #1a1a1b;
  border-radius: 15px;
}
.accept-avatar {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid #333;
}
.accept-info {
  flex: 1;
}
.accept-name {
  font-size: 18px;
  font-weight: 700;
  margin-bottom: 8px;
}
.accept-details {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 20px;
}
.accept-detail {
  display: flex;
  align-items: center;
  gap: 10px;
}
.accept-detail-label {
  font-weight: 600;
  min-width: 80px;
}
.accept-detail-value {
  font-weight: 700;
  font-size: 14px;
}
.accept-btn {
  background: var(--accent-green);
  color: #000;
  padding: 10px 20px;
  border-radius: 28px;
  font-weight: 700;
  border: none;
  cursor: pointer;
  width: 100%;
  text-align: center;
}
.connect-code {
  display: none;
  background: #1a1a1b;
  padding: 10px;
  border-radius: 10px;
  text-align: center;
  font-weight: 700;
  font-size: 14px;
  margin-bottom: 20px;
  word-break: break-all;
}
.timer {
  display: none;
  text-align: center;
  font-weight: 700;
  font-size: 16px;
  color: var(--accent-green);
  margin-bottom: 20px;
}
  </style>
</head>
<body>
  <div class="device" role="application">
    <header>
      <div class="left-row">
        <div class="icon profile" id="profileBtn" aria-hidden="true">
          <img src="assets/user.png" width="18" height="18" alt="Profile">
        </div>
        <div class="bell" id="bellBtn" aria-hidden="true">
          <img src="assets/bell.png" width="22" height="22" alt="Notifications">
          <div class="badge" id="notif">2</div>
        </div>
      </div>
      <button class="deposit">Deposit</button>
    </header>

    <section class="hero">
      <div class="logo-carousel">
        <div class="logo-track" id="logoTrack">
          <div class="logo"><img src="assets/1.png" alt="Team 1"></div>
          <div class="logo"><img src="assets/2.png" alt="Team 2"></div>
          <div class="logo"><img src="assets/3.png" alt="Team 3"></div>
          <div class="logo"><img src="assets/4.png" alt="Team 4"></div>
          <div class="logo"><img src="assets/5.png" alt="Team 5"></div>
          <div class="logo"><img src="assets/6.png" alt="Team 6"></div>
          <div class="logo"><img src="assets/7.png" alt="Team 7"></div>
          <div class="logo"><img src="assets/8.png" alt="Team 8"></div>
          <!-- Дублируем для бесшовной прокрутки -->
          <div class="logo"><img src="assets/1.png" alt="Team 1"></div>
          <div class="logo"><img src="assets/2.png" alt="Team 2"></div>
          <div class="logo"><img src="assets/3.png" alt="Team 3"></div>
          <div class="logo"><img src="assets/4.png" alt="Team 4"></div>
          <div class="logo"><img src="assets/5.png" alt="Team 5"></div>
          <div class="logo"><img src="assets/6.png" alt="Team 6"></div>
          <div class="logo"><img src="assets/7.png" alt="Team 7"></div>
          <div class="logo"><img src="assets/8.png" alt="Team 8"></div>
        </div>
      </div>

      <div class="title">Frag Arena</div>

      <div class="search-wrap">
        <input id="codeInput" class="search" placeholder="Enter match or friends code" />
        <button class="create" id="createBtn">Create match</button>
      </div>
    </section>

    <div style="padding:10px 12px 0 12px">
      <div class="list-header">
        <div style="text-align:center">PLAYER</div>
        <div style="text-align:center">CRYPTO</div>
        <div style="text-align:center">MAP</div>
        <div style="text-align:center">WEAPON</div>
        <div style="text-align:center"></div>
      </div>
    </div>

    <main class="list" id="matchesList"></main>

   <nav>
  <div class="nav-item" data-page="home">
    <img src="assets/home.png" width="26" height="26" alt="Home">
  </div>
  <div class="nav-item" data-page="friends">
    <img src="assets/friends.png" width="26" height="26" alt="Friends">
  </div>
  <div class="nav-item" data-page="withdraw">
    <img src="assets/money.png" width="26" height="26" alt="Money">
  </div>
</nav>

   <!-- Create Modal -->
<div class="modal" id="createModal">
  <div class="modal-content">
    <button class="modal-close" id="closeCreateModal">&times;</button>
    <div class="modal-header">
      <div>BALANCE: 0 TON</div>
      <button class="deposit">Deposit</button>
    </div>
    <div class="modal-row">
      <div class="modal-label">MAP</div>
      <div class="custom-select" id="mapSelect">
        <div class="selected">Dust2 <span>▼</span></div>
        <div class="options">
          <div data-value="Dust2">Dust2</div>
          <div data-value="Mirage">Mirage</div>
          <div data-value="Inferno">Inferno</div>
          <div data-value="Nuke">Nuke</div>
          <div data-value="Cache">Cache</div>
        </div>
      </div>
    </div>
    <div class="modal-row">
      <div class="modal-label">WEAPON</div>
      <div class="custom-select" id="weaponSelect">
        <div class="selected">AK-47 <span>▼</span></div>
        <div class="options">
          <div data-value="AK-47">AK-47</div>
          <div data-value="M4A4">M4A4</div>
          <div data-value="M4A1-S">M4A1-S</div>
          <div data-value="AWP">AWP</div>
          <div data-value="Desert Eagle">Desert Eagle</div>
          <div data-value="USP-S">USP-S</div>
          <div data-value="Glock-18">Glock-18</div>
          <div data-value="P250">P250</div>
          <div data-value="Tec-9">Tec-9</div>
          <div data-value="FAMAS">FAMAS</div>
          <div data-value="Galil AR">Galil AR</div>
          <div data-value="SSG 08">SSG 08</div>
          <div data-value="SCAR-20">SCAR-20</div>
          <div data-value="AUG">AUG</div>
          <div data-value="SG 553">SG 553</div>
          <div data-value="MP9">MP9</div>
          <div data-value="MAC-10">MAC-10</div>
          <div data-value="UMP-45">UMP-45</div>
          <div data-value="P90">P90</div>
          <div data-value="PP-Bizon">PP-Bizon</div>
          <div data-value="MP7">MP7</div>
          <div data-value="XM1014">XM1014</div>
          <div data-value="MAG-7">MAG-7</div>
          <div data-value="Sawed-Off">Sawed-Off</div>
          <div data-value="Nova">Nova</div>
          <div data-value="Negev">Negev</div>
          <div data-value="M249">M249</div>
        </div>
      </div>
    </div>
    <div class="modal-row">
      <div class="modal-label">MODE</div>
      <div class="custom-select" id="modeSelect">
        <div class="selected">1v1 <span>▼</span></div>
        <div class="options">
          <div data-value="1v1">1v1</div>
        </div>
      </div>
    </div>
    <div class="modal-row">
      <div class="modal-label">LOBBY</div>
      <div class="custom-select" id="lobbySelect">
        <div class="selected">Public <span>▼</span></div>
        <div class="options">
          <div data-value="public">Public</div>
        </div>
      </div>
    </div>
    <div class="modal-row">
      <div class="modal-label">AMOUNT OF TON</div>
      <div class="modal-amount" id="amountDisplay">
        <span id="amountValue">0</span>
        <img src="assets/ton.png" alt="TON logo">
      </div>
    </div>
    <div class="keyboard">
      <button class="key" data-value="1">1</button>
      <button class="key" data-value="2">2</button>
      <button class="key" data-value="3">3</button>
      <button class="key" data-value="4">4</button>
      <button class="key" data-value="5">5</button>
      <button class="key" data-value="6">6</button>
      <button class="key" data-value="7">7</button>
      <button class="key" data-value="8">8</button>
      <button class="key" data-value="9">9</button>
      <button class="key" data-value=".">.</button>
      <button class="key" data-value="0">0</button>
      <button class="key delete" data-value="delete">⌫</button>
    </div>
    <button class="create-btn" id="createMatchBtn">Create</button>
  </div>
</div>

    <!-- Notification Modal -->
    <div class="notification-modal" id="notificationModal">
      <div class="notification-content">
        <button class="modal-close" id="closeNotificationModal">&times;</button>
        <div id="notificationList"></div>
      </div>
    </div>

    <!-- Full Message Modal -->
    <div class="notification-modal" id="fullMessageModal">
      <div class="notification-content">
        <button class="back-arrow" id="backToNotifications">&larr;</button>
        <div id="fullMessageContent" style="margin-top: 40px;"></div>
      </div>
    </div>

      <!-- Profile Modal -->
  <div class="profile-modal" id="profileModal">
    <div class="profile-content">
      <button class="modal-close" id="closeProfileModal">&times;</button>
      <div class="profile-header">
        <img src="assets/player.png" class="profile-avatar" alt="Profile avatar">
        <div class="profile-info">
          <div class="profile-name">Player123</div>
          <button class="copy-code-btn" id="copyCodeBtn">Copy my code</button>
        </div>
      </div>
      <div class="chart-container">
        <svg class="chart" id="statsChart" viewBox="0 0 350 150">
          <defs>
            <linearGradient id="chartGradient" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:rgba(0,255,102,0.3);stop-opacity:1" />
              <stop offset="100%" style="stop-color:rgba(0,255,102,0);stop-opacity:0" />
            </linearGradient>
          </defs>
        </svg>
        <div class="chart-cursor" id="chartCursor"></div>
        <div class="chart-tooltip" id="chartTooltip"></div>
      </div>
      <div class="stats-list" id="statsList"></div>
    </div>
  </div>

  <!-- Accept Confirmation Modal -->
  <div class="accept-modal" id="acceptModal">
    <div class="accept-content">
      <button class="modal-close" id="closeAcceptModal">&times;</button>
      <div class="accept-header">
        <img src="assets/player.png" class="accept-avatar" id="acceptAvatar" alt="Opponent avatar">
        <div class="accept-info">
          <div class="accept-name" id="acceptName"></div>
        </div>
      </div>
      <div class="accept-details" id="acceptDetails">
        <div class="accept-detail">
          <div class="accept-detail-label">MAP</div>
          <div class="accept-detail-value" id="acceptMap"></div>
        </div>
        <div class="accept-detail">
          <div class="accept-detail-label">WEAPON</div>
          <div class="accept-detail-value" id="acceptWeapon"></div>
        </div>
        <div class="accept-detail">
          <div class="accept-detail-label">STAKE</div>
          <div class="accept-detail-value" id="acceptStake">
            <img src="assets/ton.png" style="width:14px;height:14px;border-radius:50%;vertical-align:middle" alt="TON logo">
            <span></span>
          </div>
        </div>
      </div>
      <div class="connect-code" id="connectCode"></div>
      <div class="timer" id="timer"></div>
      <button class="accept-btn" id="confirmAcceptBtn">ACCEPT</button>
    </div>
  </div>
</div>

        <div class="chart-container">
          <svg class="chart" id="statsChart" viewBox="0 0 350 150">
            <defs>
              <linearGradient id="chartGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:rgba(0,255,102,0.3);stop-opacity:1" />
                <stop offset="100%" style="stop-color:rgba(0,255,102,0);stop-opacity:0" />
              </linearGradient>
            </defs>
          </svg>
          <div class="chart-cursor" id="chartCursor"></div>
          <div class="chart-tooltip" id="chartTooltip"></div>
        </div>

        <div class="stats-list" id="statsList"></div>
      </div>
    </div>
  </div>
  

 <script>
const sample = [
  {id: 1, stake: 1, map: 'Dust2', weapon: 'AK-47', player: 'Player1', avatar: 'assets/player.png'},
  {id: 2, stake: 2, map: 'Inferno', weapon: 'M4A4', player: 'Player2', avatar: 'assets/player.png'},
  {id: 3, stake: 1, map: 'Nuke', weapon: 'AWP', player: 'Player3', avatar: 'assets/player.png'},
  {id: 4, stake: 5, map: 'Dust2', weapon: 'AK-47', player: 'Player4', avatar: 'assets/player.png'},
  {id: 5, stake: 1, map: 'Mirage', weapon: 'Desert Eagle', player: 'Player5', avatar: 'assets/player.png'},
  {id: 6, stake: 1, map: 'Dust2', weapon: 'AK-47', player: 'Player6', avatar: 'assets/player.png'},
  {id: 7, stake: 7, map: 'Overpass', weapon: 'AK-47', player: 'Player7', avatar: 'assets/player.png'},
  {id: 8, stake: 3, map: 'Dust2', weapon: 'M4A1', player: 'Player8', avatar: 'assets/player.png'},
];

const statsData = [
  { match: 1, result: 'win', amount: 10, weapon: 'AK-47', map: 'Dust2', balance: 10 },
  { match: 2, result: 'win', amount: 15, weapon: 'AWP', map: 'Mirage', balance: 25 },
  { match: 3, result: 'loss', amount: -8, weapon: 'M4A4', map: 'Inferno', balance: 17 },
  { match: 4, result: 'win', amount: 12, weapon: 'AK-47', map: 'Dust2', balance: 29 },
  { match: 5, result: 'loss', amount: -15, weapon: 'Desert Eagle', map: 'Nuke', balance: 14 },
  { match: 6, result: 'win', amount: 20, weapon: 'AWP', map: 'Mirage', balance: 34 },
  { match: 7, result: 'loss', amount: -12, weapon: 'M4A1-S', map: 'Cache', balance: 22 },
  { match: 8, result: 'win', amount: 18, weapon: 'AK-47', map: 'Dust2', balance: 40 },
  { match: 9, result: 'win', amount: 25, weapon: 'AWP', map: 'Overpass', balance: 65 },
  { match: 10, result: 'loss', amount: -10, weapon: 'P90', map: 'Mirage', balance: 55 }
];

const notifications = [
  { type: 'match', id: 'friend1', avatar: 'assets/player.png', name: 'Friend1', map: 'Dust2', weapon: 'AK-47', stake: 1 },
  { type: 'match', id: 'friend2', avatar: 'assets/player.png', name: 'Friend2', map: 'Inferno', weapon: 'M4A4', stake: 2 },
  { 
    type: 'message', 
    avatar: 'assets/dev.png', 
    name: 'Frag Arena Team', 
    message: 'Приветствуем тебя в Frag Arena! Готов к захватывающим 1 на 1 сражениям и настоящему драйву? Вноси депозит, получай уникальный код для подключения к матчу в CS2 и докажи, кто тут настоящий чемпион! Удачи и побед! 💥🎮',
    shortMessage: 'Приветствуем тебя в Frag Arena! Готов к сражениям?...' 
  }
];

const list = document.getElementById('matchesList');
const createBtn = document.getElementById('createBtn');
const modal = document.getElementById('createModal');
const amountDisplay = document.getElementById('amountValue');
const keys = document.querySelectorAll('.key');
const createMatchBtn = document.getElementById('createMatchBtn');
const notif = document.getElementById('notif');
const customSelects = document.querySelectorAll('.custom-select');
const closeCreateModalBtn = document.getElementById('closeCreateModal');
const bellBtn = document.getElementById('bellBtn');
const notificationModal = document.getElementById('notificationModal');
const closeNotificationModal = document.getElementById('closeNotificationModal');
const notificationList = document.getElementById('notificationList');
const fullMessageModal = document.getElementById('fullMessageModal');
const fullMessageContent = document.getElementById('fullMessageContent');
const backToNotifications = document.getElementById('backToNotifications');
const profileBtn = document.getElementById('profileBtn');
const profileModal = document.getElementById('profileModal');
const closeProfileModal = document.getElementById('closeProfileModal');
const copyCodeBtn = document.getElementById('copyCodeBtn');
const statsChart = document.getElementById('statsChart');
const chartCursor = document.getElementById('chartCursor');
const chartTooltip = document.getElementById('chartTooltip');
const statsList = document.getElementById('statsList');
const acceptModal = document.getElementById('acceptModal');
const closeAcceptModal = document.getElementById('closeAcceptModal');
const confirmAcceptBtn = document.getElementById('confirmAcceptBtn');
const connectCode = document.getElementById('connectCode');
const timerDisplay = document.getElementById('timer');

function drawChart() {
  const chartWidth = 350;
  const chartHeight = 150;
  const padding = 20;
  const dataWidth = chartWidth - padding * 2;
  const dataHeight = chartHeight - padding * 2;
  
  const maxBalance = Math.max(...statsData.map(d => d.balance));
  const minBalance = Math.min(...statsData.map(d => d.balance));
  const balanceRange = maxBalance - minBalance;
  
  let pathData = '';
  const points = [];
  
  statsData.forEach((data, index) => {
    const x = padding + (index / (statsData.length - 1)) * dataWidth;
    const y = padding + ((maxBalance - data.balance) / balanceRange) * dataHeight;
    
    points.push({ x, y, data });
    
    if (index === 0) {
      pathData += `M ${x} ${y}`;
    } else {
      pathData += ` L ${x} ${y}`;
    }
  });
  
  statsChart.innerHTML = '';
  
  const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
  const gradient = document.createElementNS('http://www.w3.org/2000/svg', 'linearGradient');
  gradient.setAttribute('id', 'chartGradient');
  gradient.setAttribute('x1', '0%');
  gradient.setAttribute('y1', '0%');
  gradient.setAttribute('x2', '0%');
  gradient.setAttribute('y2', '100%');
  
  const stop1 = document.createElementNS('http://www.w3.org/2000/svg', 'stop');
  stop1.setAttribute('offset', '0%');
  stop1.setAttribute('style', 'stop-color:rgba(0,255,102,0.3);stop-opacity:1');
  
  const stop2 = document.createElementNS('http://www.w3.org/2000/svg', 'stop');
  stop2.setAttribute('offset', '100%');
  stop2.setAttribute('style', 'stop-color:rgba(0,255,102,0);stop-opacity:0');
  
  gradient.appendChild(stop1);
  gradient.appendChild(stop2);
  defs.appendChild(gradient);
  statsChart.appendChild(defs);
  
  const areaPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
  const areaData = pathData + ` L ${points[points.length - 1].x} ${chartHeight - padding} L ${padding} ${chartHeight - padding} Z`;
  areaPath.setAttribute('d', areaData);
  areaPath.setAttribute('fill', 'url(#chartGradient)');
  statsChart.appendChild(areaPath);
  
  const line = document.createElementNS('http://www.w3.org/2000/svg', 'path');
  line.setAttribute('d', pathData);
  line.setAttribute('class', 'chart-line');
  statsChart.appendChild(line);
  
  points.forEach((point, index) => {
    const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
    circle.setAttribute('cx', point.x);
    circle.setAttribute('cy', point.y);
    circle.setAttribute('r', 5);
    circle.setAttribute('class', 'chart-point');
    circle.setAttribute('data-index', index);
    statsChart.appendChild(circle);
  });
  
  let activePointIndex = -1;
  
  function showDataAtPoint(index) {
    if (index < 0 || index >= points.length) return;
    
    const point = points[index];
    const data = point.data;
    
    activePointIndex = index;
    
    chartCursor.style.left = `${(point.x / chartWidth) * 100}%`;
    chartCursor.style.opacity = '1';
    
    chartTooltip.innerHTML = `
      <div>${data.result === 'win' ? 'Победа' : 'Поражение'}</div>
      <div>${data.amount > 0 ? '+' : ''}${data.amount} TON</div>
      <div>Баланс: ${data.balance} TON</div>
    `;
    
    const tooltipX = Math.min(Math.max((point.x / chartWidth) * 100, 10), 90);
    chartTooltip.style.left = `${tooltipX}%`;
    chartTooltip.style.top = `${Math.max((point.y / chartHeight) * 100 - 15, 5)}%`;
    chartTooltip.style.opacity = '1';
    
    const allPoints = statsChart.querySelectorAll('.chart-point');
    allPoints.forEach((p, i) => {
      if (i === index) {
        p.setAttribute('r', '7');
        p.setAttribute('fill', '#fff');
      } else {
        p.setAttribute('r', '5');
        p.setAttribute('fill', 'var(--accent-green)');
      }
    });
  }
  
  function hideData() {
    activePointIndex = -1;
    chartCursor.style.opacity = '0';
    chartTooltip.style.opacity = '0';
    
    const allPoints = statsChart.querySelectorAll('.chart-point');
    allPoints.forEach(p => {
      p.setAttribute('r', '5');
      p.setAttribute('fill', 'var(--accent-green)');
    });
  }
  
  function findNearestPointIndex(mouseX) {
    let nearestIndex = 0;
    let minDistance = Math.abs(points[0].x - mouseX);
    
    for (let i = 1; i < points.length; i++) {
      const distance = Math.abs(points[i].x - mouseX);
      if (distance < minDistance) {
        minDistance = distance;
        nearestIndex = i;
      }
    }
    
    return nearestIndex;
  }
  
  statsChart.addEventListener('mousemove', (e) => {
    const rect = statsChart.getBoundingClientRect();
    const mouseX = ((e.clientX - rect.left) / rect.width) * chartWidth;
    
    const nearestIndex = findNearestPointIndex(mouseX);
    
    if (nearestIndex !== activePointIndex) {
      showDataAtPoint(nearestIndex);
    }
  });
  
  statsChart.addEventListener('mouseleave', hideData);
  
  statsChart.addEventListener('touchstart', (e) => {
    e.preventDefault();
    const touch = e.touches[0];
    const rect = statsChart.getBoundingClientRect();
    const touchX = ((touch.clientX - rect.left) / rect.width) * chartWidth;
    
    const nearestIndex = findNearestPointIndex(touchX);
    showDataAtPoint(nearestIndex);
  });
  
  statsChart.addEventListener('touchmove', (e) => {
    e.preventDefault();
    const touch = e.touches[0];
    const rect = statsChart.getBoundingClientRect();
    const touchX = ((touch.clientX - rect.left) / rect.width) * chartWidth;
    
    const nearestIndex = findNearestPointIndex(touchX);
    
    if (nearestIndex !== activePointIndex) {
      showDataAtPoint(nearestIndex);
    }
  });
  
  statsChart.addEventListener('touchend', (e) => {
    e.preventDefault();
    setTimeout(hideData, 3000);
  });
  
  statsChart.addEventListener('click', (e) => {
    const rect = statsChart.getBoundingClientRect();
    const clickX = ((e.clientX - rect.left) / rect.width) * chartWidth;
    
    const nearestIndex = findNearestPointIndex(clickX);
    showDataAtPoint(nearestIndex);
  });
}

function renderStatsList() {
  statsList.innerHTML = '';
  [...statsData].reverse().forEach(stat => {
    const item = document.createElement('div');
    item.className = `stats-item ${stat.result}`;
    
    item.innerHTML = `
      <div class="stats-left">
        <div class="stats-result ${stat.result}">
          ${stat.result === 'win' ? 'ПОБЕДА' : 'ПОРАЖЕНИЕ'}
        </div>
        <div class="stats-details">
          ${stat.weapon} • ${stat.map}
        </div>
      </div>
      <div class="stats-amount ${stat.result}">
        ${stat.amount > 0 ? '+' : ''}${stat.amount} TON
      </div>
    `;
    
    statsList.appendChild(item);
  });
}

function render() {
  list.innerHTML = '';
  sample.forEach(s => {
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `
      <div class="player-meta">
        <img src="${s.avatar}" class="player-avatar" alt="Player avatar">
        <div style="font-size:12px;color:var(--muted)">${s.player}</div>
      </div>
      <div class="crypto">
        <img src="assets/ton.png" style="width:14px;height:14px;border-radius:50%" alt="TON logo">
        <div>${s.stake}</div>
      </div>
      <div class="map">${s.map}</div>
      <div class="weapon">${s.weapon}</div>
      <div class="accept-wrap">
        <button class="accept" data-id="${s.id}" data-avatar="${s.avatar}" data-player="${s.player}" data-map="${s.map}" data-weapon="${s.weapon}" data-stake="${s.stake}">ACCEPT</button>
      </div>
    `;
    list.appendChild(card);
  });
}

function renderNotifications() {
  notificationList.innerHTML = '';
  notifications.forEach(notif => {
    const item = document.createElement('div');
    item.className = 'notification-item';
    if (notif.type === 'match') {
      item.className += ' match';
      item.innerHTML = `
        <div class="player-meta">
          <img src="${notif.avatar}" class="avatar" alt="${notif.name}">
          <div class="name">${notif.name}</div>
        </div>
        <div class="crypto">
          <img src="assets/ton.png" style="width:14px;height:14px;border-radius:50%" alt="TON logo">
          <div>${notif.stake}</div>
        </div>
        <div class="map">${notif.map}</div>
        <div class="weapon">${notif.weapon}</div>
        <div class="accept-wrap">
          <button class="accept" data-id="${notif.id}" data-avatar="${notif.avatar}" data-player="${notif.name}" data-map="${notif.map}" data-weapon="${notif.weapon}" data-stake="${notif.stake}">Accept</button>
        </div>
      `;
    } else {
      item.innerHTML = `
        <img src="${notif.avatar}" class="avatar" alt="${notif.name}">
        <div>
          <div>${notif.name}</div>
          <div class="message" data-full="${notif.message}">${notif.shortMessage}</div>
        </div>
        <div></div>
      `;
    }
    notificationList.appendChild(item);
  });
}

document.addEventListener('click', e => {
  if (e.target.matches('.accept')) {
    console.log('Accept button clicked:', e.target);
    const id = e.target.getAttribute('data-id');
    const avatar = e.target.getAttribute('data-avatar');
    const player = e.target.getAttribute('data-player');
    const map = e.target.getAttribute('data-map');
    const weapon = e.target.getAttribute('data-weapon');
    const stake = e.target.getAttribute('data-stake');

    console.log('Data extracted:', { id, avatar, player, map, weapon, stake });

    // Проверка существования модального окна
    if (!acceptModal) {
      console.error('acceptModal not found in DOM');
      return;
    }

    // Показываем модальное окно
    acceptModal.style.display = 'block';
    console.log('acceptModal display set to block, current style:', acceptModal.style.display);

    // Проверка существования элементов перед обновлением
    const acceptAvatar = document.getElementById('acceptAvatar');
    const acceptName = document.getElementById('acceptName');
    const acceptMap = document.getElementById('acceptMap');
    const acceptWeapon = document.getElementById('acceptWeapon');
    const acceptStakeSpan = document.getElementById('acceptStake')?.querySelector('span');
    const confirmAcceptBtn = document.getElementById('confirmAcceptBtn');
    const connectCode = document.getElementById('connectCode');
    const timer = document.getElementById('timer');

    if (!acceptAvatar || !acceptName || !acceptMap || !acceptWeapon || !acceptStakeSpan || !confirmAcceptBtn || !connectCode || !timer) {
      console.error('One or more modal elements not found:', {
        acceptAvatar, acceptName, acceptMap, acceptWeapon, acceptStakeSpan, confirmAcceptBtn, connectCode, timer
      });
      return;
    }

    // Сброс состояния модального окна
    acceptAvatar.src = avatar || 'assets/player.png';
    acceptName.textContent = player || 'Unknown';
    acceptMap.textContent = map || '';
    acceptWeapon.textContent = weapon || '';
    acceptStakeSpan.textContent = stake || '0';
    connectCode.style.display = 'none';
    connectCode.textContent = '';
    timer.style.display = 'none';
    timer.textContent = '';
    confirmAcceptBtn.textContent = 'ACCEPT';
    confirmAcceptBtn.dataset.id = id;
    confirmAcceptBtn.disabled = false;
    confirmAcceptBtn.style.background = 'var(--accent-green)';
    confirmAcceptBtn.style.color = '#000';
    confirmAcceptBtn.style.cursor = 'pointer';

    // Сбрасываем состояние исходной кнопки
    e.target.textContent = 'ACCEPT';
    e.target.disabled = false;
    e.target.style.background = 'var(--accent-green)';
    e.target.style.color = '#000';
    e.target.style.cursor = 'pointer';
  }
  customSelects.forEach(select => {
    if (!select.contains(e.target) && e.target !== select) {
      select.classList.remove('open');
    }
  });
});

closeAcceptModal.addEventListener('click', () => {
  acceptModal.style.display = 'none';
  clearInterval(window.acceptTimer);
});

acceptModal.addEventListener('click', (e) => {
  if (e.target === acceptModal) {
    acceptModal.style.display = 'none';
    clearInterval(window.acceptTimer);
  }
});

confirmAcceptBtn.addEventListener('click', (e) => {
  console.log('Confirm Accept button clicked:', e.target.dataset.id);
  const button = e.target;
  const id = button.dataset.id;

  if (button.textContent === 'ACCEPT') {
    console.log('Processing ACCEPT for id:', id);
    
    // Показываем код подключения и таймер
    connectCode.style.display = 'block';
    connectCode.textContent = `connect server.cs2arena.com:${Math.floor(10000 + Math.random() * 90000)}`;
    timerDisplay.style.display = 'block';

    // Воспроизведение звука
    const audio = new Audio('assets/accept.mp3');
    audio.play().then(() => {
      console.log('Audio played successfully');
    }).catch(err => {
      console.error('Audio play error:', err);
    });

    // Запускаем таймер
    let timeLeft = 60;
    timerDisplay.textContent = `Connect within: ${timeLeft}s`;
    button.textContent = '✓ ACCEPTED';
    button.disabled = true;
    button.style.background = '#666';
    button.style.color = '#fff';
    button.style.cursor = 'default';

    window.acceptTimer = setInterval(() => {
      timeLeft--;
      timerDisplay.textContent = `Connect within: ${timeLeft}s`;
      if (timeLeft <= 0) {
        clearInterval(window.acceptTimer);
        acceptModal.style.display = 'none';
      }
    }, 1000);

    // Удаляем матч из списка, если это матч
    const matchIndex = sample.findIndex(s => s.id.toString() === id);
    if (matchIndex !== -1) {
      sample.splice(matchIndex, 1);
      render();
    }

    // Удаляем уведомление, если это уведомление
    const notifIndex = notifications.findIndex(n => n.id === id && n.type === 'match');
    if (notifIndex !== -1) {
      notifications.splice(notifIndex, 1);
      notif.textContent = notifications.filter(n => n.type === 'match').length;
      renderNotifications();
    }
  }
});

createBtn.addEventListener('click', () => {
  modal.style.display = 'block';
});

closeCreateModalBtn.addEventListener('click', () => {
  modal.style.display = 'none';
});

keys.forEach(key => {
  key.addEventListener('click', () => {
    const value = key.getAttribute('data-value');
    if (value === 'delete') {
      amountDisplay.textContent = amountDisplay.textContent.slice(0, -1) || '0';
    } else if (amountDisplay.textContent === '0' && value !== '.') {
      amountDisplay.textContent = value;
    } else {
      amountDisplay.textContent += value;
    }
  });
});

createMatchBtn.addEventListener('click', () => {
  const map = document.getElementById('mapSelect').querySelector('.selected').textContent.trim().split(' ')[0];
  const weapon = document.getElementById('weaponSelect').querySelector('.selected').textContent.trim().split(' ')[0];
  const stake = parseFloat(amountDisplay.textContent) || 0;

  sample.unshift({
    id: Date.now(),
    stake: stake,
    map: map,
    weapon: weapon,
    player: `Player${sample.length + 1}`,
    avatar: 'assets/player.png'
  });
  render();
  modal.style.display = 'none';
});

customSelects.forEach(select => {
  select.addEventListener('click', (e) => {
    e.stopPropagation();
    customSelects.forEach(s => s.classList.remove('open'));
    select.classList.toggle('open');
  });

  const options = select.querySelectorAll('.options div');
  options.forEach(option => {
    option.addEventListener('click', (e) => {
      e.stopPropagation();
      const selected = select.querySelector('.selected');
      selected.textContent = option.textContent + ' ▼';
      select.classList.remove('open');
    });
  });
});

document.getElementById('codeInput').addEventListener('keydown', e => {
  if (e.key === 'Enter') {
    alert('Code entered: ' + e.target.value);
  }
});

bellBtn.addEventListener('click', () => {
  notificationModal.style.display = 'block';
  renderNotifications();
});

closeNotificationModal.addEventListener('click', () => {
  notificationModal.style.display = 'none';
  fullMessageModal.style.display = 'none';
});

notificationList.addEventListener('click', (e) => {
  if (e.target.classList.contains('message')) {
    const fullMessage = e.target.getAttribute('data-full');
    fullMessageContent.innerHTML = `<div>${fullMessage}</div>`;
    notificationModal.style.display = 'none';
    fullMessageModal.style.display = 'block';
  }
});

backToNotifications.addEventListener('click', () => {
  fullMessageModal.style.display = 'none';
  notificationModal.style.display = 'block';
  renderNotifications();
});

profileBtn.addEventListener('click', () => {
  profileModal.style.display = 'block';
  drawChart();
  renderStatsList();
});

closeProfileModal.addEventListener('click', () => {
  profileModal.style.display = 'none';
});

copyCodeBtn.addEventListener('click', () => {
  const userCode = 'PLAYER123_CODE';
  navigator.clipboard.writeText(userCode).then(() => {
    copyCodeBtn.textContent = 'Copied!';
    copyCodeBtn.style.background = '#00ff66';
    copyCodeBtn.style.color = '#000';
    setTimeout(() => {
      copyCodeBtn.textContent = 'Copy my code';
      copyCodeBtn.style.background = '#1677ff';
      copyCodeBtn.style.color = '#fff';
    }, 2000);
  }).catch(() => {
    alert('Code: ' + userCode);
  });
});

let currentPage = 'home';

function navigateTo(page) {
  if (page === currentPage) return;

  document.querySelectorAll('.nav-item').forEach(item => {
    item.classList.remove('active');
    item.classList.add('inactive');
  });

  const activeItem = document.querySelector(`.nav-item[data-page="${page}"]`);
  activeItem.classList.remove('inactive');
  activeItem.classList.add('active');

  if (page === 'friends') {
    window.location.href = 'friends.html';
  } else if (page === 'withdraw') {
    window.location.href = 'withdraw.html';
  }

  currentPage = page;
}

document.querySelector(`.nav-item[data-page="${currentPage}"]`).classList.add('active');
document.querySelectorAll('.nav-item').forEach(item => {
  if (item.getAttribute('data-page') !== currentPage) {
    item.classList.add('inactive');
  }
});

document.querySelectorAll('.nav-item').forEach(item => {
  item.addEventListener('click', () => {
    const page = item.getAttribute('data-page');
    navigateTo(page);
  });
});

// Инициализация при загрузке страницы
render();
renderNotifications();
notif.textContent = notifications.filter(n => n.type === 'match').length;
</script>
</body>
</html>